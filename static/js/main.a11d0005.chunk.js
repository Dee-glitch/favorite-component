(this["webpackJsonpfavorites-app"]=this["webpackJsonpfavorites-app"]||[]).push([[0],{27:function(t,e,c){},33:function(t,e,c){"use strict";c.r(e);var r=c(1),n=c(0),i=c.n(n),a=c(19),s=c.n(a),o=c(10),d=c(2),j=(c(27),c(12)),u=c(21),l=c(17),b=Object(n.createContext)(),O=function(t){var e=t.children,c=Object(n.useState)([]),i=Object(l.a)(c,2),a=i[0],s=i[1],o=Object(n.useState)([]),d=Object(l.a)(o,2),j=d[0],O=d[1];Object(n.useEffect)((function(){fetch("https://www.aceandtate.show/torii/catalog/v1/products/frames?country-code=nl&language-code=en").then((function(t){return t.json()})).then((function(t){var e=t.data.filter((function(t){return t.currentVariant.availability.isAvailableOnline}));s(e)}))}),[]),Object(n.useEffect)((function(){var t=JSON.parse(localStorage.getItem("favorite-products"));t&&O(t)}),[]);var v=function(t){localStorage.setItem("favorite-products",JSON.stringify(t))};return Object(r.jsx)(b.Provider,{value:{products:a,favorites:j,addFavoriteProduct:function(t){var e=j.filter((function(e){return e.id!==t.id})),c=[].concat(Object(u.a)(e),[t]);O(c),v(c)},removeFavoriteProduct:function(t){var e=j.filter((function(e){return e.id!==t.id}));O(e),v(e)},isFavorite:function(t){return j.some((function(e){return e.id===t.id}))}},children:e})},v=function(t){var e=t.currentVariant.images;return e[Object.keys(e)[0]].url},h=function(){var t=Object(n.useContext)(b),e=t.favorites,c=t.removeFavoriteProduct;return Object(r.jsx)("div",{className:"product-list",children:e&&e.map((function(t){return Object(r.jsxs)("div",{className:"product-container",children:[Object(r.jsx)("img",{alt:t.id,style:{width:"300px"},src:v(t)}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:t.name}),Object(r.jsx)("p",{children:t.currentVariant.displayAttributes.color}),Object(r.jsx)("div",{onClick:function(){return c(t)},children:Object(r.jsx)(j.a,{style:{color:"red"},className:"icon"})})]})]},t.id)}))})},f=function(){var t=Object(n.useContext)(b),e=t.products,c=t.isFavorite,i=t.addFavoriteProduct,a=t.removeFavoriteProduct;return Object(r.jsx)("div",{className:"product-list",children:e&&e.map((function(t){return Object(r.jsxs)("div",{className:"product-container",children:[Object(r.jsx)("img",{alt:t.id,style:{width:"300px"},src:v(t)}),Object(r.jsxs)("div",{children:[Object(r.jsx)("h2",{children:t.name}),Object(r.jsx)("p",{children:t.currentVariant.displayAttributes.color}),Object(r.jsx)("div",{onClick:function(){return c(t)?a(t):i(t)},children:Object(r.jsx)(j.a,{style:{color:c(t)?"red":"white"},className:"icon"})})]})]},t.id)}))})},x=function(){return Object(r.jsx)("header",{children:Object(r.jsx)("div",{className:"container",children:Object(r.jsxs)("div",{className:"inner-content",children:[Object(r.jsx)("div",{className:"brand",children:Object(r.jsx)(o.b,{to:"/",children:"Products"})}),Object(r.jsx)("div",{children:Object(r.jsx)(o.b,{to:"/favorites",children:"Favorites"})})]})})})},p=function(){return Object(r.jsx)(O,{children:Object(r.jsxs)(o.a,{children:[Object(r.jsx)(x,{}),Object(r.jsxs)(d.c,{children:[Object(r.jsx)(d.a,{exact:!0,path:"/",children:Object(r.jsx)(f,{})}),Object(r.jsx)(d.a,{exact:!0,path:"/favorites",children:Object(r.jsx)(h,{})})]})]})})};s.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(p,{})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.a11d0005.chunk.js.map